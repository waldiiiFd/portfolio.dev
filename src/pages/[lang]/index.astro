---
import Layout from "../../layouts/Layout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import Banner from "../../components/Banner.astro";
import Home from "../../components/Home.astro";
import Experience from "../../components/Experience.astro";
import Projects from "../../components/Projects.astro";
import AboutMe from "../../components/AboutMe.astro";
import Contact from "../../components/Contact.astro";
import { getLangFromUrl, useTranslations } from '../../i18n/utils';
import { languages } from '../../i18n/ui';

export function getStaticPaths() {
  return Object.keys(languages).map(lang => ({
    params: { lang }
  }));
}

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const title = lang === 'en'
  ? "Waldo Fernandez's Portfolio" 
  : "Portafolio de Waldo Fernández";

const description = lang === 'en'
  ? "Waldo Fernandez's Portfolio Website - 2 years of experience as a Full Stack Developer."
  : "Sitio Web del Portafolio de Waldo Fernández - 2 años de experiencia como Desarrollador Full Stack.";
---

<Layout
  title={title}
  description={description}
>
  <Header />
  <Banner />
  <Home />
  <Experience />
  <Projects />
  <AboutMe />
  <Contact />
  <Footer />
</Layout>